---
layout: default
title: The Journey - Oepicus
sitemap:
    priority: 0.8
    changefreq: weekly
---

<!-- Journal Header Section -->
<header class="relative flex justify-center pt-48 md:pt-56 pb-24 md:pb-32 px-6 z-10" role="banner">
    <div class="max-w-7xl mx-auto text-center fade-in-up z-20">
        <h1 class="text-4xl sm:text-5xl md:text-6xl font-display font-bold leading-tight tracking-tight">
            <span class="text-gradient glitch-hover cursor-default">THE JOURNEY</span>
        </h1>
        <p class="mt-6 text-base md:text-lg text-text-muted max-w-2xl mx-auto leading-relaxed">
            Field notes, design logs, and occasional transmissions from the workshop.
        </p>
    </div>
</header>

<!-- Blog Posts Section -->
<section id="journal-posts" class="py-16 md:py-24 px-6 relative z-10" role="region" aria-label="Journal Posts">
    <div class="max-w-7xl mx-auto">
        <div class="space-y-16">
            {% for post in site.posts %}
            <article class="fade-in-up glass rounded-xl overflow-hidden p-8 border border-white/5 hover:border-brand-gold/30 transition-colors">
                <header class="mb-4">
                    <p class="text-sm text-text-muted mb-2">
                        <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %-d, %Y" }}</time>
                    </p>
                    <h2 class="text-3xl md:text-4xl font-display font-bold">
                        <a href="{{ post.url | relative_url }}" class="text-white hover:text-brand-gold transition-colors">
                            {{ post.title }}
                        </a>
                    </h2>
                </header>

                {%- assign processed_content = '' -%}
                {%- assign content_parts = post.content | markdownify | split: '<p><a href="https://www.youtube.com/watch?v=' -%}
                {%- for part in content_parts -%}
                    {%- if forloop.first -%}
                        {%- assign processed_content = processed_content | append: part -%}
                    {%- else -%}
                        {%- assign video_id_and_hash = part | split: '"><img' | first -%}
                        {%- assign video_id = video_id_and_hash | split: '#' | first -%}
                        {%- assign src_hash = video_id_and_hash | split: '#' | last -%}
                        
                        {%- assign width_val = '' -%}
                        {%- assign align_val = '' -%}
                        {%- if src_hash contains 'w-' -%}{%- assign width_val = src_hash | split: 'w-' | last | split: ';' | first -%}{%- endif -%}
                        {%- if src_hash contains 'a-' -%}{%- assign align_val = src_hash | split: 'a-' | last | split: ';' | first -%}{%- endif -%}

                        {%- assign width_style = '' -%}
                        {%- if width_val != '' and width_val contains '%' -%}
                            {%- assign width_style = 'style="width: ' | append: width_val | append: ';"' -%}
                        {%- endif -%}

                        {%- assign align_class = '' -%}
                        {%- assign margin_class = '' -%}
                        {%- if align_val != '' -%}
                            {%- assign align_class = 'float-' | append: align_val -%}
                            {%- if align_val == 'left' -%}{%- assign margin_class = 'mr-6' -%}{%- else -%}{%- assign margin_class = 'ml-6' -%}{%- endif -%}
                        {%- else -%}
                            {%- assign align_class = 'mx-auto' -%}
                        {%- endif -%}

                        {%- assign embed_html = '<div class="my-6 ' | append: align_class | append: ' ' | append: margin_class | append: ' mb-4" ' | append: width_style | append: '><div class="aspect-video"><iframe src="https://www.youtube.com/embed/' | append: video_id | append: '?controls=1&amp;showinfo=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="rounded-lg shadow-lg w-full h-full"></iframe></div></div>' -%}
                        {%- assign rest_of_part = part | split: '</a></p>' | last -%}
                        {%- assign processed_content = processed_content | append: embed_html | append: rest_of_part -%}
                    {%- endif -%}
                {%- endfor -%}

                {%- assign final_content = '' -%}
                {%- assign image_parts = processed_content | split: '<img src="' -%}
                {%- for img_part in image_parts -%}
                    {%- if forloop.first -%}
                        {%- assign final_content = final_content | append: img_part -%}
                    {%- else -%}
                        {%- if img_part contains '#w-' -%}
                            {%- assign src_and_alt = img_part | split: '"' -%}
                            {%- assign src_full = src_and_alt[0] -%}
                            {%- assign src_path = src_full | split: '#' | first -%}
                            {%- assign src_hash = src_full | split: '#' | last -%}
                            {%- assign width_param = src_hash | split: ';' | first -%}
                            {%- assign width_val = width_param | remove: 'w-' -%}
                            {%- assign width_style = '' -%}
                            {%- assign width_class = '' -%}
                            {%- if width_val contains '%' -%}
                                {%- assign width_style = 'width: ' | append: width_val | append: ';' -%}
                            {%- else -%}
                                {%- assign width_class = 'w-' | append: width_val -%}
                            {%- endif -%}
                            {%- assign align_val = src_hash | split: 'a-' | last -%}
                            {%- assign align_class = 'float-' | append: align_val -%}
                            {%- if align_val == 'left' -%}
                                {%- assign margin_class = 'mr-6 ' -%}
                            {%- else -%}
                                {%- assign margin_class = 'ml-6 ' -%}
                            {%- endif -%}
                            {%- assign rest_of_tag = src_and_alt | shift | join: '"' -%}
                            {%- assign new_img_tag = '<img src="' | append: src_path | append: '" class="' | append: align_class | append: ' ' | append: width_class | append: ' ' | append: margin_class | append: 'mb-4 rounded-lg shadow-lg" style="' | append: width_style | append: '" ' | append: rest_of_tag -%}
                            {%- assign final_content = final_content | append: new_img_tag -%}
                        {%- else -%}
                            {%- assign final_content = final_content | append: '<img src="' | append: img_part -%}
                        {%- endif -%}
                    {%- endif -%}
                {%- endfor -%}

                {%- assign paragraphs = final_content | split: '<p>' -%}
                {%- assign output_content = '' -%}
                {%- for p_content in paragraphs -%}
                    {%- if forloop.first and p_content == '' -%}{%- continue -%}{%- endif -%}
                    {%- if p_content contains 'class="float-' -%}
                        {%- assign img_tag_and_rest = p_content | split: '>' -%} 
                        {%- assign img_tag = img_tag_and_rest | first | append: '>' -%}
                        {%- assign text_content = img_tag_and_rest | shift | join: '>' -%}

                        {%- assign style_attr = p_content | split: 'style="' | last | split: '"' | first -%}
                        {%- assign width_percent_str = style_attr | remove: 'width: ' | remove: '%;' -%}
                        {%- assign width_percent = width_percent_str | plus: 0 -%}
                        {%- assign text_width_percent = 100 | minus: width_percent -%}

                        {%- assign image_col_style = 'style="flex-basis: ' | append: width_percent | append: '%;"' -%}
                        {%- assign text_col_style = 'style="flex-basis: ' | append: text_width_percent | append: '%;"' -%}
                        {%- assign image_col = '<div class="mb-6 md:mb-0" ' | append: image_col_style | append: '>' | append: img_tag | replace: 'float-left', 'w-full' | replace: 'float-right', 'w-full' | replace: 'style="width: 30%;"', '' | append: '</div>' -%}
                        {%- assign text_col = '<div class="text-text-muted leading-relaxed" ' | append: text_col_style | append: '><p>' | append: text_content | append: '</p></div>' -%}

                        {%- if p_content contains 'float-left' -%}
                            {%- assign wrapped_p = '<div class="md:flex md:gap-8 items-start not-prose">' | append: image_col | append: text_col | append: '</div>' -%}
                        {%- else -%}
                            {%- assign wrapped_p = '<div class="md:flex md:gap-8 items-start not-prose">' | append: text_col | append: image_col | append: '</div>' -%}
                        {%- endif -%}
                        {%- assign output_content = output_content | append: wrapped_p -%}
                    {%- else -%}
                        {%- assign output_content = output_content | append: '<p>' | append: p_content | append: '</p>' -%}
                    {%- endif -%}
                {%- endfor -%}

                {% if post.image_path %}
                    {%- assign image_width = post.image_width | default: "1/3" -%}
                    {%- if image_width == "1/3" -%}{%- assign text_width = "2/3" -%}{%- endif -%}
                    {%- if image_width == "1/2" -%}{%- assign text_width = "1/2" -%}{%- endif -%}
                    {%- if image_width == "2/3" -%}{%- assign text_width = "1/3" -%}{%- endif -%}
                    {%- if image_width == "1/4" -%}{%- assign text_width = "3/4" -%}{%- endif -%}
                    {%- if image_width == "3/4" -%}{%- assign text_width = "1/4" -%}{%- endif -%}

                    {% if post.image_layout == 'left' %}
                    <div class="md:flex md:gap-8">
                        <div class="md:w-{{ image_width }} mb-6 md:mb-0">
                            <img src="{{ post.image_path | relative_url }}" alt="{{ post.image_alt | escape }}" class="rounded-lg shadow-lg w-full">
                        </div>
                        <div class="md:w-{{ text_width }} text-text-muted leading-relaxed">
                            {{ output_content }}
                        </div>
                    </div>
                    {% elsif post.image_layout == 'right' %}
                    <div class="md:flex md:gap-8">
                        <div class="md:w-{{ text_width }} text-text-muted leading-relaxed">
                            {{ output_content }}
                        </div>
                        <div class="md:w-{{ image_width }} mt-6 md:mt-0">
                            <img src="{{ post.image_path | relative_url }}" alt="{{ post.image_alt | escape }}" class="rounded-lg shadow-lg w-full">
                        </div>
                    </div>
                    {% else %}
                    <!-- Default to 'top' layout or when no layout is specified -->
                    <div class="mb-6">
                        <img src="{{ post.image_path | relative_url }}" alt="{{ post.image_alt | escape }}" class="rounded-lg shadow-lg w-full">
                    </div>
                    <div class="text-text-muted leading-relaxed">
                        {{ output_content }}
                    </div>
                    {% endif %}
                {% else %}
                    <!-- Fallback for posts without an image -->
                    <div class="prose prose-invert prose-lg max-w-none text-text-muted leading-relaxed prose-headings:text-white prose-headings:font-display prose-a:text-brand-gold prose-strong:text-white">
                        {{ output_content }}
                    </div>
                {% endif %}

            </article>
            {% endfor %}
        </div>
    </div>
</section>
